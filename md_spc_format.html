<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>gr1c: Specification input format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="gr1cdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gr1c
   &#160;<span id="projectnumber">0.10.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Specification input format </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In its most basic usage, the program <code>gr1c</code> will synthesize a winning strategy for a given specification or declare that it is impossible (i.e., the GR(1) specification is <em>unrealizable</em>). Specifications (informally abbreviated "specs") are provided as input files at invocation. If no file is provided, then <code>gr1c</code> will attempt to read the specification from <code>stdin</code>. For instance, the following two commands will lead to the same output. Note that you may need to use <code>./gr1c</code> instead if you have built but not installed the <code>gr1c</code> executable. </p>
<pre class="fragment">$ gr1c examples/trivial.spc
$ cat examples/trivial.spc | gr1c
</pre><p>Formatting possibilities for specification files are diverse. The main cases are covered here. Each file consists of several sections each of which may span multiple lines. Each section begins with "ENV" or "SYS" and ends with ";". Comments begin with "#", span the remainder of the line (after "#"), and may be inserted anywhere. Any omitted sections are considered empty. E.g., omission of the <code>ENVINIT</code> section is equivalent to including <code>ENVINIT:;</code>.</p>
<p>System (resp., environment) variables are declared by a section beginning with <code>SYS:</code> (resp., <code>ENV:</code>) and consisting of a space-separated list of variable names and domains if not Boolean. The only supported nonboolean domains are of the form <code>[0,n]</code> where <code>n</code> is a nonnegative integer. E.g., </p>
<pre class="fragment">SYS: a b [0,5] c;
</pre><p>declares three variables: <code>a</code>, <code>b</code>, and <code>c</code>. <code>a</code> and <code>c</code> have Boolean domains (i.e., can only be <code>True</code> or <code>False</code>), while <code>b</code> can take any integer value in the set <code>{0,1,2,3,4,5}</code>. There must be at least one variable; i.e., at least one of <code>ENV</code> or <code>SYS</code> must be nonempty.</p>
<p>For both the environment and system sections, an empty transition rule section, e.g., <code>SYSTRANS:;</code>, is equivalent to <code>SYSTRANS:[]True;</code>, thus imposing no restrictions. Depending on the desired <a href="#initconditions">interpretation of initial conditions</a>, an empty initial values section, e.g., <code>SYSINIT:;</code> is equivalent to <code>SYSINIT:True;</code>. An empty system goal section, i.e., <code>SYSGOAL:;</code>, is equivalent to <code>[]&lt;&gt;True</code>.</p>
<h2 id="initconditions">Interpretations of initial conditions</h2>
<p>Several definitions of initial conditions have been used in the literature for GR(1) games and other reactive synthesis problems. <b>gr1c</b> provides several variations that are normatively defined in the documentation for <a class="el" href="solve_8h.html#a23b0078c4cecd73f4aeebf12c2cfcc09">check_realizable()</a> (cf. <a class="el" href="solve_8h.html" title="Compute realizability and a strategy for a GR(1) game. ">solve.h</a>). Here we briefly introduce each. While these are not part of the input specification file format, the manner in which <code>ENVINIT</code> and <code>SYSINIT</code> are used to select initial states relies on the declared interpretation of initial conditions. The API convention is for functions that care to take an argument called <code>init_flags</code> in which one of these is selected. Most of the command-line tools provide the <code>-n</code> switch for declaring an interpretation, e.g., <code>gr1c</code> can be invoked with <code>-n ONE_SIDE_INIT</code> to use the option described by the same name below.</p>
<p>Unless stated otherwise, <code>ENVINIT:;</code> is equivalent to <code>ENVINIT:True;</code> and similarly for <code>SYSINIT</code>.</p>
<ul>
<li><code>ALL_ENV_EXIST_SYS_INIT</code> (default) : For each initial valuation of environment variables that satisfies the <code>ENVINIT:...;</code> section, the strategy must provide some valuation of system variables that satisfies <code>SYSINIT:...;</code>.</li>
<li><code>ALL_INIT</code> : Any state that satisfies the conjunction of the <code>ENVINIT:...;</code> and <code>SYSINIT:...;</code> sections can occur initially. Any variable can appear in each, but for the sake of syntactic compatibility with ALL_ENV_EXIST_SYS_INIT, the convention is to only use <code>ENV</code> variables in <code>ENVINIT</code> and <code>SYS</code> variables in <code>SYSINIT</code>.</li>
<li><code>ONE_SIDE_INIT</code> : At most one of <code>ENVINIT</code> and <code>SYSINIT</code> is nonempty. Both being empty is equivalent to <code>ENVINIT: True;</code>. Let <code>f</code> be a (nonempty) boolean formula in terms of environment (ENV) and system (SYS) variables. If <code>ENVINIT: f;</code>, then the strategy must regard <em>any</em> state that satisfies <code>f</code> as possible initially. If <code>SYSINIT: f;</code>, then the strategy need only choose one initial state satisfying <code>f</code>.</li>
</ul>
<h2>Incomplete summary of the grammar </h2>
<p>C-like, infix syntax. Comments begin with <code>#</code> and continue until the end of line. The grammar below is not complete (nor normative), but should be enough for you to compose specifications. Cf. the <code>examples</code> directory. NUMBER must be a nonnegative integer. </p>
<pre class="fragment">/* Define which variables are controlled and uncontrolled. 
envvarlist ::= 'ENV:' VARIABLE | envvarlist VARIABLE
               | envvarlist VARIABLE [0,NUMBER]
sysvarlist ::= 'SYS:' VARIABLE | sysvarlist VARIABLE
               | sysvarlist VARIABLE [0,NUMBER]

propformula ::= "False" | "True" | VARIABLE
                | '!' propformula
                | propformula '&amp;' propformula
                | propformula '|' propformula
                | propformula "-&gt;" propformula
                | propformula "&lt;-&gt;" propformula
                | VARIABLE '=' NUMBER
                | VARIABLE '!=' NUMBER
                | VARIABLE '&lt;' NUMBER
                | VARIABLE '&lt;=' NUMBER
                | VARIABLE '&gt;' NUMBER
                | VARIABLE '&gt;=' NUMBER
                | '(' propformula ')'

/* The only difference between propformula and tpropformula is
   variables can be primed (next operator) in the latter. 
tpropformula ::= "False" | "True" | VARIABLE | VARIABLE '\'' | ...

transformula ::= "[]" tpropformula | transformula '&amp;' transformula
goalformula ::= "[]&lt;&gt;" propformula | goalformua '&amp;' goalformula
</pre><h2 id="reachgames">Specifying reachability games</h2>
<p>gr1c also treats reachability games, which can be solved from the command-line using the program <code>rg</code>. We take a <em>reachability game</em> to be formulated in a manner similar to that of GR(1) synthesis except that there is only one system goal and it need only be reached once. Accordingly, the above description of the specification input format holds also for <code>rg</code> with the following modifications.</p>
<ul>
<li>The specification can have at most one single system goal, and if present, it is preceded by <code>&lt;&gt;</code> (as the "eventually" operator).</li>
<li>If there is no system goal, i.e., the <code>SYSGOAL</code> section is omitted, then the environment must be blocked.</li>
</ul>
<p>Concerning the form of automata providing strategies:</p>
<ul>
<li>Since there is only one set of states to reach, the notion of <code>mode</code> as in the <a class="el" href="structanode__t.html" title="Strategy automaton nodes. ">anode_t</a> structure (cf. <a class="el" href="automaton_8h.html" title="Routines for working with a strategy, as a finite automaton. ">automaton.h</a>) is not pertinent. In the case of successful synthesis, all nodes in the output of <code>rg</code> will have <code>mode</code> <code>-1</code>.</li>
<li>There may be nodes that have no outgoing edges, even when the corresponding state reached is not a dead-end for the environment. (Hint: a system goal state must have been reached!) </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 27 2015 23:34:50 for gr1c by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
